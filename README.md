虾米音乐 用户评论 数据留存
========================================

互联网是有记忆的，但却是丢失后再也找不回来的。

曾经的悲欢离合，曾经的回忆，曾经的坚持，将随着平台的关闭而永久消失，
就像你从来没有来过，从来不曾有过过去一样。

当下正越来越印证了那句话，「免费的，既是最贵的」：
- 因为免费，平台不会对个人数据不做任何保证；
- 因为免费，你为平台所做的贡献将在平台消失后荡然无存；
- 因为免费，平台对你产出的一切拥有绝对的控制权，包括无需你的同意便清除你的所有数据；

当然，我们不能苛求平台在不能养活自身的情况下，善待我们的过去，
但我们至少希望，我们曾有过的，能够在其他地方扎根发芽。

也许有一天，我们在互联网上所产生的一切数据，都能够完全归属于我们自己，
无论平台是否还活着，甚至于无论我们自己是否还在人世间，
我们的数据都能够继续存在，除非世界末日。

不过，在当下我们只能在平台快要关闭时，以各种可行的方式，
将我们在平台中留下的印记保留下来，不让这些数据就这样无声无息地消失。

我们的过去不应该被粗暴地抹去，我们的数据应该由我们自己来决定！

希望有越来越多的人参与到这场人类数据的「保卫战」之中，
努力让每个人留下的痕迹都能够永远保留下去！

## 使用说明

> [虾米音乐](https://i.xiami.com/musician/artists)官宣于2021年02月05日关闭，
> 目前（2021-02-06）似乎其服务器和软件服务还未下线，其网页版链接还可以正常访问，
> 但其随时可能完全下线，且用且珍惜吧。

### 准备工作

目前虾米音乐的IPv4站点已无法访问，但IPv6还可以，所以，需修改本地的`hosts`文件，
添加如下域名映射：

```
2401:b180:2000:10::2c emumo.xiami.com
240e:d9:a400:900:3::fc pic.xiami.net
```

### 安装项目依赖

```bash
npm install
```

PS：项目所需依赖将被下载到`node_modules`目录中。

### 获取登录Cookie

在浏览器端登录虾米音乐站点，打开浏览器开发工具，切换到`Network`（网络）标签，
按`F5`刷新页面，选中任意链接，复制`Request Header`中的`Cookie`项的值，
将其保存到该项目代码根目录中名为`cookie`的文件中（没有则自行创建即可）。

### 获取音乐人列表

```bash
node ./js/musicians.mjs
```

所能够获取（已知最多只能获取到1000条数据）到的音乐人基本信息将被保存到文件
`./data/musicians/data.json.0`中，以用于进一步获取音乐人详细信息、用户评论、音乐专辑等。

### 获取音乐人信息

```bash
node ./js/musician.mjs
```

音乐人信息、评论、专辑列表将分别存放在`./data/musicians/{音乐人ID}/profile.json`、
`./data/musicians/{音乐人ID}/comments.json`、`./data/musicians/{音乐人ID}/albums.json`中。

### 获取音乐人专辑信息

```bash
node ./js/album.mjs
```

音乐人专辑信息、评论、曲目列表均将被存放在`./data/musicians/{音乐人ID}/albums/{专辑ID}.json`中。

### 获取专辑曲目信息

```bash
node ./js/song.mjs
```

专辑曲目信息及其评论均将被存放在`./data/musicians/{音乐人ID}/albums/{专辑ID}/{曲目CODE}.json`中，
其中，`{曲目CODE}`为曲目链接路径中最后一级的文件名称。

### 获取图片

```bash
node ./js/images.mjs
```

该脚本将分析音乐人、专辑、曲目信息中的封面图片以及评论用户的头像和评论中的表情图片，
然后，将其下载到`./data/images/{albums,comments,musicians,users}`等目录，
文件名为图片链接的MD5值，确保图片仅被下载一次。

## 免责声明

- 本项目所获取到的数据仅用于学习研究和个人收藏之用，不得用于任何商业目的，
  并且，这些数据的使用形式、使用目的、使用场景等均不能违反任何法律法规的要求，
  由于不当和非法使用该数据所产生的任何纠纷和法律责任均需由使用者自行承担，
  本项目开发者没有义务承担其所产生的任何连带责任；
- 为保护用户个人隐私，避免被非法利用，被项目所获取的数据中，用户名称或昵称均已被脱敏，
  且用户头像也未包含在本项目中，因此，也不要向本项目开发者索要这类敏感信息；
- 若所采集的评论中包含不当言论，其并不代表本项目开发者的观点，也不表示开发者对其的支持，
  这只是对原信息的忠实记录。请理性对待，认真思考，真诚讨论，没必要对此「上纲上线」或者「政治正确」；
- 本项目拒绝参与或讨论任何与技术、数据安全、个人隐私保护无关的话题，
  有关评论和观点也不要带有恶意和攻击性，请努力做一个理性且友善的人；
